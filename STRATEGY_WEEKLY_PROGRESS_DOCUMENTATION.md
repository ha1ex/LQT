# WeeklyProgressTracker - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–º—É —Ç—Ä–µ–∫–∏–Ω–≥—É

## –û–±–∑–æ—Ä
WeeklyProgressTracker - —ç—Ç–æ —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–æ –≥–∏–ø–æ—Ç–µ–∑–∞–º, –∑–∞–º–µ–Ω–∏–≤—à–∞—è —Å–ª–æ–∂–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∑–∞–¥–∞—á. –§–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å—É–±—ä–µ–∫—Ç–∏–≤–Ω–æ–π –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–µ —Ä–∞–±–æ—Ç—ã —Å –≥–∏–ø–æ—Ç–µ–∑–æ–π.

## –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ó–∞–º–µ–Ω–∞ Task –Ω–∞ WeeklyProgress
```typescript
// –°–¢–ê–†–ê–Ø —Å–∏—Å—Ç–µ–º–∞ (—É–¥–∞–ª–µ–Ω–∞)
interface Task {
  id: string;
  description: string;
  frequency: 'daily' | 'weekly';
  completed: boolean[];
  priority: 'high' | 'medium' | 'low';
  linkedToHypothesis: boolean;
}

// –ù–û–í–ê–Ø —Å–∏—Å—Ç–µ–º–∞
interface WeeklyProgress {
  week: number; // –Ω–æ–º–µ—Ä –Ω–µ–¥–µ–ª–∏ (1-6)
  rating: 0 | 1 | 2 | 3 | 4; // 0 = –Ω–µ –æ—Ü–µ–Ω–µ–Ω–æ, 1-4 = –æ—Ü–µ–Ω–∫–∏
  note?: string; // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∑–∞–º–µ—Ç–∫–∞
}
```

### –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–æ–∫
- üî¥ **–ü–ª–æ—Ö–æ (1)** - –∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç
- üü° **–°—Ä–µ–¥–Ω–µ (2)** - –æ—Ä–∞–Ω–∂–µ–≤—ã–π —Ü–≤–µ—Ç  
- üü¢ **–•–æ—Ä–æ—à–æ (3)** - –∑–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç
- ‚≠ê **–û—Ç–ª–∏—á–Ω–æ (4)** - —Å–∏–Ω–∏–π/—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π —Ü–≤–µ—Ç
- ‚ö´ **–ù–µ –æ—Ü–µ–Ω–µ–Ω–æ (0)** - —Å–µ—Ä—ã–π —Ü–≤–µ—Ç

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### WeeklyProgressTracker
**–§–∞–π–ª:** `src/components/strategy/WeeklyProgressTracker.tsx`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (—Å—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞, –ø—Ä–æ—Ü–µ–Ω—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è, –æ–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å)
- –°–µ—Ç–∫–∞ –Ω–µ–¥–µ–ª—å —Å –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –æ—Ü–µ–Ω–∫–∏
- –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ü–µ–Ω–æ–∫

**–û—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:**
```tsx
// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
<div className="grid grid-cols-3 gap-4">
  <div>–°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞: {averageRating.toFixed(1)}</div>
  <div>–ó–∞–ø–æ–ª–Ω–µ–Ω–æ: {completionRate}%</div>
  <div>–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: {progress}%</div>
</div>

// –ö–Ω–æ–ø–∫–∏ –æ—Ü–µ–Ω–æ–∫
{[1, 2, 3, 4].map(rating => (
  <Button onClick={() => updateWeeklyRating(hypothesisId, weekIndex, rating)}>
    {getRatingIcon(rating)}
  </Button>
))}
```

## –•—É–∫–∏ –∏ –ª–æ–≥–∏–∫–∞

### useEnhancedHypotheses
**–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**

```typescript
// –ó–∞–º–µ–Ω–µ–Ω toggleTaskCompletion –Ω–∞ updateWeeklyRating
const updateWeeklyRating = useCallback((
  hypothesisId: string, 
  weekIndex: number, 
  rating: number, 
  note?: string
) => {
  // –û–±–Ω–æ–≤–ª—è–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥ –Ω–µ–¥–µ–ª–∏ –∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å
}, [hypotheses, updateHypothesis]);
```

### –†–∞—Å—á–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
**–§–∞–π–ª:** `src/utils/strategy.ts`

```typescript
// –ù–û–í–ê–Ø —Ñ–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
export const calculateHypothesisProgress = (weeklyProgress: WeeklyProgress[]): number => {
  if (!weeklyProgress || weeklyProgress.length === 0) return 0;
  
  const ratedWeeks = weeklyProgress.filter(week => week.rating > 0);
  if (ratedWeeks.length === 0) return 0;
  
  const averageRating = ratedWeeks.reduce((sum, week) => sum + week.rating, 0) / ratedWeeks.length;
  const completionFactor = ratedWeeks.length / weeklyProgress.length;
  
  return Math.round((averageRating / 4) * 100 * completionFactor);
};
```

## –£—Ç–∏–ª–∏—Ç—ã

### –¶–≤–µ—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
```typescript
// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É
export const getRatingColor = (rating: number): string => {
  switch (rating) {
    case 1: return 'hsl(var(--destructive))'; // –∫—Ä–∞—Å–Ω—ã–π
    case 2: return 'hsl(var(--warning))'; // –æ—Ä–∞–Ω–∂–µ–≤—ã–π
    case 3: return 'hsl(var(--success))'; // –∑–µ–ª–µ–Ω—ã–π
    case 4: return 'hsl(var(--primary))'; // —Å–∏–Ω–∏–π/—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π
    default: return 'hsl(var(--muted))'; // —Å–µ—Ä—ã–π
  }
};

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –º–µ—Ç–æ–∫
export const getRatingLabel = (rating: number): string => {
  switch (rating) {
    case 1: return '–ü–ª–æ—Ö–æ';
    case 2: return '–°—Ä–µ–¥–Ω–µ';
    case 3: return '–•–æ—Ä–æ—à–æ';
    case 4: return '–û—Ç–ª–∏—á–Ω–æ';
    default: return '–ù–µ –æ—Ü–µ–Ω–µ–Ω–æ';
  }
};
```

### –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
```typescript
// –°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ –Ω–µ–¥–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
export const createDefaultWeeklyProgress = (weeks: number = 6): WeeklyProgress[] => {
  return Array.from({ length: weeks }, (_, index) => ({
    week: index + 1,
    rating: 0
  }));
};
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### HypothesisDetail
```tsx
import { WeeklyProgressTracker } from './WeeklyProgressTracker';

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
<WeeklyProgressTracker hypothesisId={hypothesisId} />
```

### HypothesisCard
–û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ–¥–µ–ª—å –≤–º–µ—Å—Ç–æ –∑–∞–¥–∞—á:
```tsx
// –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –Ω–µ–¥–µ–ª—å
{hypothesis.weeklyProgress.length} –Ω–µ–¥–µ–ª—å

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ü–µ–Ω–æ–∫  
{hypothesis.weeklyProgress.filter(w => w.rating > 0).length}/{hypothesis.weeklyProgress.length} –Ω–µ–¥–µ–ª—å –æ—Ü–µ–Ω–µ–Ω–æ
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** - –æ–¥–∏–Ω –∫–ª–∏–∫ –≤ –Ω–µ–¥–µ–ª—é –¥–ª—è –æ—Ü–µ–Ω–∫–∏
2. **–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ—Å—Ç—å** - –ø–æ–Ω—è—Ç–Ω–∞—è —Ü–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ –æ—Ü–µ–Ω–æ–∫
3. **–ì–∏–±–∫–æ—Å—Ç—å** - –º–æ–∂–Ω–æ –æ—Ü–µ–Ω–∏—Ç—å –ª—é–±–æ–π –∞—Å–ø–µ–∫—Ç —Ä–∞–±–æ—Ç—ã —Å –≥–∏–ø–æ—Ç–µ–∑–æ–π
4. **–ú–æ—Ç–∏–≤–∞—Ü–∏—è** - –≤–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å —á–µ—Ä–µ–∑ —Ü–≤–µ—Ç–∞
5. **–ë—ã—Å—Ç—Ä—ã–π –æ–±–∑–æ—Ä** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å –Ω–∞ –æ–¥–Ω–æ–º —ç–∫—Ä–∞–Ω–µ

## –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –≥–∏–ø–æ—Ç–µ–∑:
- –°—Ç–∞—Ä—ã–µ `tasks` –∑–∞–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ `weeklyProgress`
- –°–æ–∑–¥–∞–µ—Ç—Å—è –º–∞—Å—Å–∏–≤ –Ω–µ–¥–µ–ª—å –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É `timeframe`
- –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ –Ω–æ–≤–æ–π —Ñ–æ—Ä–º—É–ª–µ

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. **–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –≥–∏–ø–æ—Ç–µ–∑–æ–π –æ—Ç 1 –¥–æ 4
2. **–í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å**: –¶–≤–µ—Ç–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∫–∞—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—Ç—ã
3. **–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞**: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å –æ–±—â—É—é –¥–∏–Ω–∞–º–∏–∫—É
4. **–ü—Ä–æ—Å—Ç–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: –§–æ–∫—É—Å –Ω–∞ —Å—É–±—ä–µ–∫—Ç–∏–≤–Ω–æ–π –æ—Ü–µ–Ω–∫–µ –≤–º–µ—Å—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∑–∞–¥–∞—á